@inherits LayoutComponentBase

<MudThemeProvider IsDarkMode="@IsDarkMode" Theme="@CustomTheme" />

<MudLayout>
    <MudAppBar Elevation="1" Color="Color.Primary" Fixed="true">
        <MudIconButton Icon=@Icons.Material.Filled.Menu Color=Color.Primary Edge=Edge.Start OnClick=DrawerToggle />
        <MudLink Typo="Typo.h6" Color="Color.Inherit" Href="/">Mozhar's Digital Garden</MudLink>
        <MudSpacer />
        <MudIconButton Icon=@Icons.Material.Outlined.LightMode Size=Size.Medium Color=Color.Dark
            OnClick="ChangeThemeAsync">
        </MudIconButton>
    </MudAppBar>

    <MudDrawer @bind-Open=_drawerOpen Variant=DrawerVariant.Persistent 
               ClipMode="DrawerClipMode.Always" Elevation="2" Style="font-size:14px;">
        <NavMenu />
    </MudDrawer>
    <MudMainContent Class="main-content">
        <div class="center-wrap">
            @Body
        </div>
    </MudMainContent>
</MudLayout>

@code {
    private bool _drawerOpen = true;
    private void DrawerToggle() => _drawerOpen = !_drawerOpen;
    public static bool IsDarkMode { get; private set; } = true;
    private void ChangeThemeAsync()
    {
        IsDarkMode = !IsDarkMode ? true : false;
    }

    private MudTheme CustomTheme = new MudTheme
    {
        PaletteLight = new PaletteLight
        {
            Primary = "#2FBF8F", Secondary = "#5AD6A3",
            Tertiary = "#8FE6C6", Background = "#040806",
            Surface = "#0F1F18", TextPrimary = "#EAFBF4",
            TextSecondary = "#A7D8C2", AppbarBackground = "#0F1F18",
            AppbarText = "#9AF0CB", DrawerBackground = "#0C1A14",
            DrawerText = "#9AF0CB"
        },
        PaletteDark = new PaletteDark
        {
            Primary = "#8B5CF6", Secondary = "#A78BFA",
            Tertiary = "#C4B5FD", Background = "#0B0812",
            Surface = "#181326", TextPrimary = "#F3EEFF",
            TextSecondary = "#C7BCE6", AppbarBackground = "#181326",
            AppbarText = "#DAD1FF", DrawerBackground = "#141022",
            DrawerText = "#DAD1FF"
        }
    };
}